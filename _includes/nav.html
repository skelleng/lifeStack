<nav class="navbar">
  <div class="nav-left">
    <a href="{{ '/' | relative_url }}" class="logo">LifeStack</a>
  </div>

  <div class="nav-toggle" onclick="toggleMenu()">â˜°</div>

  <div class="nav-center nav-menu" id="navMenu">
    <a href="{{ '/learn/' | relative_url }}">Learn</a>
    <a href="{{ '/tools/' | relative_url }}">Tools</a>
    <a href="{{ '/stacks/' | relative_url }}">Stacks</a>
  </div>

  <div class="nav-right">
    <input type="text" id="searchBox" placeholder="Searchâ€¦" />
    <button onclick="toggleTheme()" id="themeToggle">ðŸŒ“</button>
  </div>
</nav>

<script>
  function toggleTheme() {
    const body = document.body;
    const isDark = body.classList.toggle('dark');
    localStorage.setItem('theme', isDark ? 'dark' : 'light');
  }

  function toggleMenu() {
    document.getElementById('navMenu').classList.toggle('open');
  }

  const storedTheme = localStorage.getItem('theme');
  if (storedTheme) {
    document.body.classList.add(storedTheme);
  } else {
    const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
    if (prefersDark) document.body.classList.add('dark');
  }
</script>
